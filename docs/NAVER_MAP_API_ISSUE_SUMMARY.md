# 네이버 지도 API 미동작 원인 정리

---

## 실제 원인 (이번 케이스에서 처리 안 됐던 정확한 이유)

**자동 개발 요청 시, 학습 데이터 기반으로 구현되어 API 문서와 달랐음.**

1. **구현 출처**  
   네이버 지도 연동이 **제공된 API 문서 URL이 아닌, 학습된 데이터(과거 예시)**를 기준으로 구현됐다.

2. **구체적 차이**  
   스크립트 URL에 Client ID를 넘기는 **쿼리 파라미터 이름**이 실제 API 문서와 달랐다.  
   (문서에 명시된 파라미터명과 다른 이름을 사용한 상태에서 인증 실패가 발생함.)

3. **해결 경로**  
   사용자가 **API 문서 URL을 제시**한 뒤, 그 문서를 기준으로 스크립트 URL의 **Client ID 파라미터 이름을 문서와 일치하도록 수정**하자 정상 동작했다.

**정리**: 원인은 **Client ID 파라미터 이름 불일치**였고, **공식 API 문서 URL을 반영해 파라미터명을 고치면서 해결**된 사례다.

---

## 참고: 문서 기반 구현 권장

- 네이버 지도처럼 **공식 문서가 있는 외부 API**는, 학습 데이터가 아닌 **사용자가 제시한(또는 공식) API 문서 URL을 기준으로** 스크립트 URL·파라미터명·옵션을 구현하는 것이 안전하다.
- 현재 `naverMapLoader.ts`에는 문서와의 차이에 대비한 **파라미터명 fallback**(`ncpKeyId`, `ncpClientId` 등 순차 시도)이 들어가 있다.
